testlist <- list(A = structure(c(-Inf, 3.72097434487156e-294, 3.72097434486925e-294,  1.63194185016946e-311, 1.10313045159306e+217, 1.41265489165112e-303,  1.66299561905096e-311, -Inf), .Dim = c(4L, 2L)), B = structure(c(3.33895432812758e-294,  7.45799560558863e-305, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0), .Dim = c(6L, 3L)))
result <- do.call(multivariance:::match_rows,testlist)
str(result)