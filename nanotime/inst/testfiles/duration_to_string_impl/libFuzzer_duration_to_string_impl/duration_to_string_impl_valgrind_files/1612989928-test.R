testlist <- list(dur = c(-3.28109046629432e+301, Inf, -8.28895096438067e+303,  -1.37050371093727e+306, -3.93294168668481e-270, -2.49685630622074e+290,  -2.4183597388179e-159, -1.12484251432473e+294, 1.21327976778604e-279,  -2.27945217264841e-159, -1.12484251432473e+294, 1.21327976778604e-279,  1.21327976778599e-279, 1.21327976778579e-279, 1.21327976778599e-279,  1.21327976778599e-279, NaN, 1.21327976778599e-279, 5.69733502832127e-275,  1.21327977094335e-279, 1.21327976778599e-279, 4.44886595292607e-91,  NaN, -1.14442997293768e-231, 7.28031233219181e+223, 2.89125257048836e+74,  3.61682865044754e-111, 1.33283291005454e-105, 1.38499926513568e+219,  NaN, -1.42530903123043e-235, 4.30355414687821e-306, 1.21406872232331e+300,  2.96763919163913e+280, 3.65588315440994e+233, 1.72259788411526e-47,  3.05300379241613e-28, 3.15193565822087e-61, -1.97484803395387e+289,  7.9762038765197e-121, -5.31602346910357e+303, 3.57243549822585e-87,  -1.46160643698513e+290, 8.81735795714414e-38, 4.68888881520053e+279,  -1.7181753829186e-93, 4.39073867530446e-91, -1.4389628243977e+290,  5.7914120756023e-270, -1.46160638954526e+290, 2.40326671532107e-32,  2.44531380083538e-29, 7.87502466311089e-268, 3.89560963629138e-87,  7.13413872304345e+304, Inf, NaN, 2.79296896141865e-33, 4.7687877792249e-38,  1.18037898554668e-307, 1.23708736349088e-307, 6.13695425422268e-88,  7.00138760425509e-246, -9.92615726459043e-234, 8.56891734867655e+301,  5.95130768142608e-270, 4.30355414687821e-306, -1.74250580079113e+135,  7.18266875122479e-299, 9.29161857407591e-144, -3.93293070019362e-270,  1.34297480801047e-306, 2.36947490409931e+170, 3.54119036908492e-87,  8.06589273712316e-308, -5.41082432667042e+303, 3.51907982003822e-87,  -1.94923844164575e+289, 4.68888881520053e+279, 4.30355414687821e-306,  5.28232371197817e+222, 7.1768358535809e-299, 3.64263555401872e-87,  -5.48612406879369e+303, -6.4864360293998e-269, -4.49687959156302e+293,  -1.71816663713728e-190, 7.74104768355879e-15, 6.42025935433893e-304,  8.71633669952174e-150, 2.99746921884887e-29, -2.78552468339664e-269,  4.30411638044664e-306, 8.72847066550061e+300, 9.29116677650406e-144,  8.64950516193713e-310, 0))
result <- do.call(nanotime:::duration_to_string_impl,testlist)
str(result)