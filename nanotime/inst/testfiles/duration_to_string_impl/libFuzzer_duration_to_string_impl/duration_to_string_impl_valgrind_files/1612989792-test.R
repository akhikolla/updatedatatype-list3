testlist <- list(dur = c(NA, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 5.3849722343012e-299,  -4.22717313027067e+301, -1.1248425143247e+294, 4.66726441127191e-62,  -7.53982261923051e+291, -1.7181753829186e-93, -3.92547215434371e+304,  8.71632737659605e-150, -1.00679591673177e+307, NA, 8.29748359437385e-114,  NaN, 0, 2.36947523488967e+170, 9.07883131005791e-90, 4.27214181018316e-306,  2.92624646714735e-309, 1.29985058636179e-89, 4.52469121687515e-91,  7.87502466311089e-268, -9.92607918252604e-234, NaN, 4.45004996917757e-306,  3.92433321169508e-87, NaN, -9.67653682427972e-97, 1.12764997993179e-305,  2.84508213733341e+155, 1.23426256269394e-307, -4.25947957457221e-270,  3.65117605958451e+72, -Inf, 9.18685279182745e-303, -2.30165915711188e-159,  9.28865612912898e-94, 5.79155096698643e-270, -3.26377264881617e-269,  9.29216326799971e-144, -3.93293070019362e-270, -1.43907474036174e+290,  -3.22455660996528e-269, NaN, 6.43403052272112e-304, 2.42254588042422e-89,  NaN, -5.48612406879369e+303, -9.92568459312388e-234, -1.67803807916762e-93,  4.27257550899012e-306, 4.76803408892494e-303, -2.86557455797265e-158,  7.68339627736297e-118, 1.91884940188878e-76, 7.23305448417024e-299,  2.40326763280225e-32, 2.44531380083538e-29, 1.37182759001663e-309,  NaN, 4.82164143450209e+279, 4.44897129965142e-91, 5.39557896676006e-62,  6.7763291426659e-43, 7.06608271483737e-71, 1.75541205485882e+282,  1.91886076157208e-76, 7.23305448417024e-299, -2.83793018693427e-269,  2.37381251727067e-89, 7.87502466311089e-268, 8.71670837416254e-150,  7.74145600468482e-304, 8.48487747078492e+301, 4.46590926251033e-33,  2.7929689614269e-33, 2.37976199853667e-89, 7.54952018379988e-15,  1.11158844070437e-305, -3.93272490805506e-270, 4.30664512228157e-306,  1.24583224318544e-47, 5.06714853920279e-86, 4.54183001729696e+150,  1.57748984724339e-298, 9.61208499025976e+281, 4.65526015094919e+222,  2.96763823021255e+280, 4.30355414687821e-306, -1.37050372934149e+306,  0))
result <- do.call(nanotime:::duration_to_string_impl,testlist)
str(result)